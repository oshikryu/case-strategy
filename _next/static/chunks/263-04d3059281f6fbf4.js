"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[263],{7765:function(e,t,i){i.d(t,{Ox:function(){return p},sy:function(){return l}});var n=i(9625),a=i(6885),r=i(8321);let o={entries:[],isComplete:!1,isDraft:!1},s={awards:{...o},membership:{...o},publishedMaterial:{...o},judging:{...o},contributions:{...o},authorship:{...o},criticalEmployment:{...o},remuneration:{...o}},c={wantsRecommendations:!1,employmentHistory:[],educationHistory:[],professionalConnections:[]},l=(0,n.Ue)()((0,a.tJ)((e,t)=>({demographics:null,criteria:s,intake:null,recommendations:null,review:null,applicationSubmittedForReview:!1,userRole:"applicant",setDemographics:t=>e({demographics:t}),updateDemographics:t=>e(e=>({demographics:e.demographics?{...e.demographics,...t}:null})),clearDemographics:()=>e({demographics:null}),addEntry:(t,i)=>e(e=>({criteria:{...e.criteria,[t]:{...e.criteria[t],entries:[...e.criteria[t].entries,i],isDraft:!0}}})),updateEntry:(t,i,n)=>e(e=>({criteria:{...e.criteria,[t]:{...e.criteria[t],entries:e.criteria[t].entries.map(e=>e.id===i?{...e,...n}:e)}}})),removeEntry:(t,i)=>e(e=>{let n=e.criteria[t].entries.filter(e=>e.id!==i);return{criteria:{...e.criteria,[t]:{...e.criteria[t],entries:n,isComplete:0!==n.length&&e.criteria[t].isComplete}}}}),setCriterionComplete:(t,i)=>e(e=>({criteria:{...e.criteria,[t]:{...e.criteria[t],isComplete:i,isDraft:!i}}})),setCriterionDraft:(t,i)=>e(e=>({criteria:{...e.criteria,[t]:{...e.criteria[t],isDraft:i}}})),setIntake:t=>e({intake:t}),addEmploymentEntry:t=>e(e=>({intake:e.intake?{...e.intake,employmentHistory:[...e.intake.employmentHistory,t]}:{...c,wantsRecommendations:!0,employmentHistory:[t]}})),updateEmploymentEntry:(t,i)=>e(e=>({intake:e.intake?{...e.intake,employmentHistory:e.intake.employmentHistory.map(e=>e.id===t?{...e,...i}:e)}:null})),removeEmploymentEntry:t=>e(e=>({intake:e.intake?{...e.intake,employmentHistory:e.intake.employmentHistory.filter(e=>e.id!==t)}:null})),addEducationEntry:t=>e(e=>({intake:e.intake?{...e.intake,educationHistory:[...e.intake.educationHistory,t]}:{...c,wantsRecommendations:!0,educationHistory:[t]}})),updateEducationEntry:(t,i)=>e(e=>({intake:e.intake?{...e.intake,educationHistory:e.intake.educationHistory.map(e=>e.id===t?{...e,...i}:e)}:null})),removeEducationEntry:t=>e(e=>({intake:e.intake?{...e.intake,educationHistory:e.intake.educationHistory.filter(e=>e.id!==t)}:null})),addProfessionalConnection:t=>e(e=>({intake:e.intake?{...e.intake,professionalConnections:[...e.intake.professionalConnections,t]}:{...c,wantsRecommendations:!0,professionalConnections:[t]}})),updateProfessionalConnection:(t,i)=>e(e=>({intake:e.intake?{...e.intake,professionalConnections:e.intake.professionalConnections.map(e=>e.id===t?{...e,...i}:e)}:null})),removeProfessionalConnection:t=>e(e=>({intake:e.intake?{...e.intake,professionalConnections:e.intake.professionalConnections.filter(e=>e.id!==t)}:null})),skipRecommendations:()=>e({intake:{...c,wantsRecommendations:!1},recommendations:null}),setRecommendations:t=>e({recommendations:t}),submitForReview:()=>{let{criteria:i,getCompletedCriteriaCount:n}=t();if(3>n())return;let a={};["awards","membership","publishedMaterial","judging","contributions","authorship","criticalEmployment","remuneration"].forEach(e=>{a[e]={criterionType:e,status:"pending",entryReviews:i[e].entries.map(e=>({entryId:e.id,status:"pending",reviewedAt:new Date().toISOString()}))}}),e({applicationSubmittedForReview:!0,review:{criteriaReviews:a,submittedAt:new Date().toISOString()}})},setUserRole:t=>e({userRole:t}),setCriterionReviewStatus:(t,i,n)=>e(e=>e.review?{review:{...e.review,criteriaReviews:{...e.review.criteriaReviews,[t]:{...e.review.criteriaReviews[t],status:i,overallComment:n,reviewedAt:new Date().toISOString()}}}}:e),setEntryReviewStatus:(t,i,n,a)=>e(e=>{if(!e.review)return e;let r=e.review.criteriaReviews[t];return{review:{...e.review,criteriaReviews:{...e.review.criteriaReviews,[t]:{...r,entryReviews:r.entryReviews.map(e=>e.entryId===i?{...e,status:n,comment:a,reviewedAt:new Date().toISOString()}:e)}}}}}),getCompletedCriteriaCount:()=>{let{criteria:e}=t();return Object.values(e).filter(e=>e.isComplete).length},getCriterionEntries:e=>{let{criteria:i}=t();return i[e].entries},populateCriteriaFromIntake:()=>{let{intake:i,criteria:n}=t();if(!i)return;let a=(0,r.d)(i),o={};0===n.criticalEmployment.entries.length&&a.criticalEmployment.length>0&&(o.criticalEmployment={...n.criticalEmployment,entries:a.criticalEmployment,isDraft:!0}),0===n.remuneration.entries.length&&a.remuneration.length>0&&(o.remuneration={...n.remuneration,entries:a.remuneration,isDraft:!0}),0===n.authorship.entries.length&&a.authorship.length>0&&(o.authorship={...n.authorship,entries:a.authorship,isDraft:!0}),0===n.awards.entries.length&&a.awards.length>0&&(o.awards={...n.awards,entries:a.awards,isDraft:!0}),Object.keys(o).length>0&&e({criteria:{...n,...o}})},canProceedToReview:()=>{let{getCompletedCriteriaCount:e}=t();return e()>=3},getReviewSummary:()=>{let{review:e}=t();if(!e)return{approved:0,rejected:0,pending:0,changesRequested:0};let i={approved:0,rejected:0,pending:0,changesRequested:0};return Object.values(e.criteriaReviews).forEach(e=>{switch(e.status){case"approved":i.approved++;break;case"rejected":i.rejected++;break;case"changes_requested":i.changesRequested++;break;default:i.pending++}}),i},resetApplication:()=>e({demographics:null,criteria:s,intake:null,recommendations:null,review:null,applicationSubmittedForReview:!1,userRole:"applicant"})}),{name:"o1a-visa-application"})),p=()=>"".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,11))},8321:function(e,t,i){i.d(t,{d:function(){return a}});var n=i(7765);function a(e){let t={criticalEmployment:[],remuneration:[],authorship:[],awards:[]};for(let i of e.employmentHistory){let e=function(e){let t=[];return"fortune500"===e.companyReputation?t.push("Held critical role at Fortune 500 company ".concat(e.company,".")):"industry-leader"===e.companyReputation?t.push("Served in essential capacity at industry-leading organization ".concat(e.company,".")):"established"===e.companyReputation&&t.push("Key contributor at established company ".concat(e.company,".")),"enterprise"===e.employeeCount?t.push("Organization employs 5000+ employees globally."):"large"===e.employeeCount&&t.push("Organization employs 500-5000 employees."),e.achievements&&e.achievements.trim().length>0&&t.push("Key achievements: ".concat(e.achievements)),0===t.length&&t.push("Served as ".concat(e.role," with responsibilities including: ").concat(e.responsibilities)),t.join(" ")}(i),a={id:(0,n.Ox)(),company:i.company,role:i.role,startDate:i.startDate,endDate:i.endDate,responsibilities:i.responsibilities,criticalNature:e};if(t.criticalEmployment.push(a),"fortune500"===i.companyReputation||"industry-leader"===i.companyReputation){let e={id:(0,n.Ox)(),company:i.company,position:i.role,salary:0,currency:"USD",year:i.endDate?parseInt(i.endDate.split("-")[0]):new Date().getFullYear(),comparativeData:"Position at ".concat("fortune500"===i.companyReputation?"Fortune 500":"industry-leading"," company ").concat(i.company,". Please add salary data and comparative market data.")};t.remuneration.push(e)}}for(let i of e.educationHistory)if(i.publications&&i.publications>0){let e={id:(0,n.Ox)(),title:"Research publications from ".concat(i.institution),publication:i.researchFocus?"".concat(i.fieldOfStudy," - ").concat(i.researchFocus):i.fieldOfStudy,date:"".concat(i.graduationYear),coauthors:i.advisorNotable?"Including notable advisor":void 0,citations:void 0,doi:void 0};t.authorship.push(e)}for(let i of e.educationHistory)if(i.honors&&i.honors.trim().length>0){let e={id:(0,n.Ox)(),name:i.honors,organization:i.institution,date:"".concat(i.graduationYear),description:"Academic honor received during ".concat(i.degree," in ").concat(i.fieldOfStudy),scope:"national",significance:"Recognized for academic excellence at ".concat(i.institution)};t.awards.push(e)}return t}}}]);